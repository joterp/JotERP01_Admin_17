<fury-page-layout mode="card" class="allotment_index-view">

    <!-- search header for PURC_Catalogue -->
    <fury-page-layout-header>

        <form [formGroup]="AllotmentIndexFilterForm">
            <!-- <div>  
            <h2>{{routeTitle}}</h2>
        </div> -->
            <h3>

                <span class="first-letter">A</span>LLOTMENT
                <span class="first-letter">I</span>NDEX
               
            </h3>
            <div class="filter-area">

                <div fxLayout="row" fxLayoutAlign="start">

                    <div fxFlex>
                        <mat-form-field appearance="fill">
                            <mat-label>Fleet</mat-label>
                            <mat-select formControlName="drpFleet">
                                <!-- <mat-option *ngFor="let b of filtered_Template_type | async" [value]="b.ID">
                        {{ b.PARAMETER_NAME }}
                      </mat-option> -->
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="fill">
                            <mat-label>Vessel</mat-label>
                            <mat-select formControlName="drpVessel">
                                <!-- <mat-option *ngFor="let b of filtered_Template_type | async" [value]="b.ID">
                        {{ b.PARAMETER_NAME }}
                      </mat-option> -->
                            </mat-select>
                        </mat-form-field>
                      
                    </div>

                    <div fxFlex>
                        <mat-form-field appearance="fill">
                            <mat-label>Year</mat-label>
                            <mat-select formControlName="drpYear">
                                <!-- <mat-option *ngFor="let b of filtered_Template_type | async" [value]="b.ID">
                        {{ b.PARAMETER_NAME }}
                      </mat-option> -->
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="fill">
                            <mat-label>Month</mat-label>
                            <mat-select formControlName="drpMonth">
                                <!-- <mat-option *ngFor="let b of filtered_Template_type | async" [value]="b.ID">
                        {{ b.PARAMETER_NAME }}
                      </mat-option> -->
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div fxFlex>
                        <mat-form-field appearance="fill">
                            <mat-label>Staff Name/ Code</mat-label>
                            <input type="text" formControlName="txtStaff_Name" matInput />
                        </mat-form-field>
                        <mat-form-field appearance="fill">
                            <mat-label>Bank Name</mat-label>
                            <input type="text" formControlName="txtBank_Name" matInput />
                        </mat-form-field>
                    </div>

                    
                    <div fxFlex>
                        <mat-form-field appearance="fill">
                            <mat-label>Nationality</mat-label>
                            <mat-select formControlName="drpNationality">
                                <!-- <mat-option *ngFor="let b of filtered_Template_type | async" [value]="b.ID">
                        {{ b.PARAMETER_NAME }}
                      </mat-option> -->
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="fill">
                            <mat-label>Manning Office</mat-label>
                            <mat-select formControlName="drpManning_Office">
                                <!-- <mat-option *ngFor="let b of filtered_Template_type | async" [value]="b.ID">
                        {{ b.PARAMETER_NAME }}
                      </mat-option> -->
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div fxFlex style="margin-top: -5px;">
                        <mat-radio-group fxLayout="column" fxLayoutGap="7px" formControlName="radioVerified"
                            style="margin-top: 7px; margin-left: 26px;background: lightgrey;
                            padding: 7px 9px 7px;" class="radio-btn-group">
                            <mat-radio-button value="0"
                                [checked]="AllotmentIndexFilterForm.get('radioVerified').value == 0">
                                <label
                                    [class.active-label]="AllotmentIndexFilterForm.get('radioVerified').value == 0">Not Verified</label>
                            </mat-radio-button>
                            <mat-radio-button value="1"
                                [checked]="AllotmentIndexFilterForm.get('radioVerified').value == 1">
                                <label
                                    [class.active-label]="AllotmentIndexFilterForm.get('radioVerified').value == 1">Verified</label>
                            </mat-radio-button>
                            <mat-radio-button value="2"
                                [checked]="AllotmentIndexFilterForm.get('radioVerified').value == 2">
                                <label [class.active-label]="AllotmentIndexFilterForm.get('radioVerified').value == 2">All</label>
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <div fxFlex>
                     <div>
                        <mat-checkbox [color]="'primary'" formControlName="chkFlagged_items">
                            Show Flagged items	
                        </mat-checkbox>
                        </div>
                        <br><br>
                        <div>
                            <mat-checkbox [color]="'primary'" formControlName="chkAmount">
                                Amount > 0
                            </mat-checkbox>
                        </div>

                    </div>

                    <div class="filter-btn-area" fxFlex>
                        <div>
                            <button class="create" mat-raised-button color="primary" class="filter-btn">
                                Search
                            </button>
                        </div>

                        <div>
                            <button class="create" mat-raised-button color="warn" class="filter-btn" type="button">
                                Clear
                            </button>
                        </div>
                        <div>
                            <button class="create" mat-raised-button color="warn" class="filter-btn" type="button" 
                            (click)="AddFormData({}, 'View and Verify', 'View_and_Verify')">
                                View and Verify
                            </button>
                        </div>
                        <div>
                            <button class="create" mat-raised-button color="warn" class="filter-btn" type="button" 
                            (click)="AddFormData2({}, 'Reason for Red Flag', 'Reason_for_Red_Flag')">
                            Flag
                            </button>
                        </div>
                    </div>

                </div>
            </div>
        </form>
    </fury-page-layout-header>
    

    <fury-page-layout-content [@fadeInUp]>
        <div class="actions-area">

            <table
            style="width: 100%;border-top-left-radius: 10px;border-top-right-radius: 10px;">
            <tr>
               <td style="text-align: end;">
                <span style="cursor: pointer">
                    <img src="../../../../assets/img/pdf.png" class="logo"
                    alt="excel" style="margin-left: 10px;" />
                    </span>
               </td> 
                <td style="width: 3.5%;">
                    <span style="cursor: pointer">
                        <img src="../../../../assets/img/XLSX.jpg" class="logo"
                            alt="excel" style="margin-left: 10px;" />
                    </span>
                </td>
                <td style="width: 8.5%;">
                    <button class="create" mat-raised-button color="primary"
                        class="filter-btn-traits">
                        Verify Selected
                    </button>
                </td>
                <td style="width: 0%;">
                    <button class="create" mat-raised-button color="primary" class="btn-warning">
                        Mark Selected As Paid
                    </button>
                </td>
            </tr>
        </table>


            <!-- <div class="content-loader">
            <mat-progress-spinner
              mode="indeterminate"
              color="accent"
            ></mat-progress-spinner>
          </div> -->
        </div>

        <div #TABLE>
            <table [dataSource]="dataSource" mat-table matSort #table class="details-table">
                <ng-container matColumnDef="rownum">
                    <th *matHeaderCellDef class="actions-cell" [ngStyle]="{ 'white-space': 'initial' }" mat-header-cell
                        mat-sort-header>
                        rownum 
                    </th>
                    <!-- <td
                  *matCellDef="let row; let i = index"
                  class="actions-cell"
                  [ngStyle]="{ 'white-space': 'initial' }"
                  mat-cell
                >
                  <p class="tbl-row-item">{{ row.Vessel_Name }}</p>
                </td> -->
                </ng-container>

                <ng-container matColumnDef="Vessel">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Vessel
                    </th>
                    <!-- <td
                  *matCellDef="let row; let i = index"
                  class="actions-cell"
                  mat-cell
                >
                  <p class="tbl-row-item">{{ row.REF_NUM }}</p>
                </td> -->
                </ng-container>
                <ng-container matColumnDef="Staff_Code">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Staff Code
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ row.REF_NUM }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Staff_Name">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Staff Name
                    </th>
                    <!-- <td
                  *matCellDef="let row; let i = index"
                  class="actions-cell"
                  mat-cell
                >
                  <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                </td> -->
                </ng-container>
                <ng-container matColumnDef="Rank">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Rank
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Nationality">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Nationality
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Manning_Office">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Manning Office
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Acc_No">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Acc. No
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Bank_Name">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Bank Name
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="PB_Date">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        PB Date
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Additional">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Additional
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Currency">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Currency
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Amount">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Amount
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Percentage">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Percentage
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="blank">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Verify">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Verify
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="View_Verify">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        View And Verify
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Mark_As_Paid">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>
                        Mark As Paid
                    </th>
                    <!-- <td
                    *matCellDef="let row; let i = index"
                    class="actions-cell"
                    mat-cell
                  >
                    <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                  </td> -->
                </ng-container>
                <ng-container matColumnDef="Action">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>

                    </th>
                    <!-- <td
                      *matCellDef="let row; let i = index"
                      class="actions-cell"
                      mat-cell
                    >
                      <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                    </td> -->
                </ng-container>
                <ng-container matColumnDef="Info">
                    <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>

                    </th>
                    <!-- <td
                      *matCellDef="let row; let i = index"
                      class="actions-cell"
                      mat-cell
                    >
                      <p class="tbl-row-item">{{ getPicName(row.AGENT_GUID) }}</p>
                    </td> -->
                </ng-container>

                <tr *matHeaderRowDef="visibleColumns" mat-header-row></tr>
                <tr *matRowDef="let row; columns: visibleColumns" class="clickable route-animations-elements" mat-row>
                </tr>
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="9999">No data found</td>
                </tr>
            </table>
        </div>

        <mat-paginator class="paginator" [pageSizeOptions]="[10, 25, 50, 100]" [pageSize]="pageSize"></mat-paginator>

    </fury-page-layout-content>


</fury-page-layout>
